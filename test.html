<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>mario's web</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0d1117;
      --muted:#8b949e;
      --accent:#58a6ff;
      --accent-2:#f778ba;
      --border:#30363d;
      --glass:rgba(255,255,255,0.03);
      --glass-2:rgba(255,255,255,0.02);
      --archived:#FFD700;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Inter,-apple-system,"Segoe UI",Roboto,sans-serif;
      background:linear-gradient(180deg,var(--bg) 0%,#07090b 100%);
      color:#c9d1d9;
      padding:28px;
      line-height:1.5;
    }

    .wrap{max-width:1100px;margin:auto;display:grid;grid-template-columns:1fr 320px;gap:28px;}
    @media(max-width:880px){.wrap{grid-template-columns:1fr}}

    .card{background:var(--glass-2);border:1px solid var(--border);border-radius:10px;padding:22px;box-shadow:0 6px 18px rgba(2,6,23,0.6);}
    header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;}
    .readme-title{font-size:28px;margin:6px 0 10px;color:#fff;font-weight:800;}
    .inline-code{font-family:monospace;color:#ff6b6b;font-size:15px;}
    hr.sep{border:none;height:1px;background:var(--border);margin:14px 0 18px;}

    .fade{opacity:0;transform:translateY(6px);transition:opacity .6s ease,transform .6s ease;}
    .fade.show{opacity:1;transform:translateY(0);}

    .typed{display:inline-block;font-weight:800;background:linear-gradient(90deg,#fff,#dfe6ff,#fff);-webkit-background-clip:text;color:transparent;white-space:nowrap;border-right:2px solid rgba(255,255,255,0.12);padding-right:6px;}

    .btn{background:var(--glass-2);border:1px solid rgba(255,255,255,0.03);color:var(--accent);padding:8px 12px;border-radius:8px;font-weight:700;font-size:14px;text-decoration:none;cursor:pointer;transition:transform .12s ease;}
    .btn:hover{transform:translateY(-3px);}

    .lang-card{margin-top:14px;padding:14px;border-radius:8px;background:var(--glass);border:1px solid rgba(255,255,255,0.03)}
    .lang-title{color:var(--accent-2);font-weight:700;font-size:15px;margin-bottom:12px;}
    .bar{height:10px;background:#111318;border-radius:8px;overflow:hidden;display:flex;margin-bottom:10px;}
    .bar>i{height:100%;width:0;transition:width 1.1s ease;}
    .legend{display:flex;flex-wrap:wrap;gap:12px;font-size:13px;color:var(--muted)}

    .projects-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px;}
    .proj{padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);transition:transform .16s ease;cursor:pointer;}
    .proj:hover{transform:translateY(-6px);}
    .proj h4{margin:0 0 6px;font-size:15px;color:#fff;}
    .proj p{margin:0;font-size:13px;color:var(--muted);}
    .archived-tag{color:var(--archived);font-weight:700;font-size:13px;margin-left:6px;}
    footer{margin-top:24px;text-align:center;color:var(--muted);font-size:13px;}
  </style>
</head>
<body>

<div class="wrap">
  <main>
    <div class="card fade" id="hero">
      <header>
        <div style="font-size:13px;color:var(--muted)">mariocrazyy / README.md</div>
        <a href="https://github.com/mariocrazyy" target="_blank" class="btn">View GitHub</a>
      </header>

      <h1 class="readme-title"><span class="typed" id="typed"></span></h1>
      <hr class="sep">

      <p><span class="inline-code">guns.lol/mario_crazyy</span></p>

      <section id="about" class="fade">
        <h3>ðŸ˜º Here's about me:</h3>
        <p>I like tech stuff and gaming â€” I tinker with frontend, tiny utilities, and fun projects. Check out my GitHub repos below!</p>
        <p>Join my Discord Server: <a href="https://discord.gg/bDvnNpYcPb" target="_blank">discord.gg/bDvnNpYcPb</a></p>
      </section>

      <section id="projects" class="fade" style="margin-top:18px">
        <h3>Projects</h3>
        <div id="projectList">Loading repositories...</div>
      </section>

      <footer>Last Updated on: <time id="updated"></time></footer>
    </div>
  </main>

  <aside>
    <div class="card fade" id="profileCard">
      <div style="display:flex;gap:12px;align-items:center">
        <div style="width:64px;height:64px;border-radius:10px;background:#1f2933;display:flex;align-items:center;justify-content:center;">
          <span style="font-weight:800;font-size:20px;color:#fff">M</span>
        </div>
        <div>
          <div style="font-weight:800;color:#fff">mario_crazyy</div>
          <div style="color:var(--muted);font-size:13px">random guy :P</div>
        </div>
      </div>

      <div class="lang-card" id="languages">
        <div class="lang-title">Most Used Languages</div>
        <div id="langBar"></div>
        <div id="langLegend" class="legend"></div>
      </div>

      <div style="margin-top:12px;">
        <a class="btn" href="https://github.com/mariocrazyy" target="_blank">GitHub Profile</a>
        <a class="btn" href="https://discord.gg/bDvnNpYcPb" target="_blank">Discord</a>
      </div>
    </div>
  </aside>
</div>

<script>
  // Typing animation
  const typedText = document.getElementById("typed");
  const phrases = [
    "Yo, Mario here! Uh idk",
    "ka-boom"
  ];
  let pIndex = 0, cIndex = 0, deleting = false;
  function type(){
    const text=phrases[pIndex];
    if(!deleting && cIndex<text.length){
      typedText.textContent=text.slice(0,++cIndex);
      setTimeout(type,45);
    }else if(deleting && cIndex>0){
      typedText.textContent=text.slice(0,--cIndex);
      setTimeout(type,25);
    }else{
      if(!deleting){deleting=true;setTimeout(type,1200);}
      else{deleting=false;pIndex=(pIndex+1)%phrases.length;setTimeout(type,200);}
    }
  }
  type();

  // Fade-in observer
  const fadeEls=document.querySelectorAll(".fade");
  const obs=new IntersectionObserver(entries=>{
    entries.forEach(e=>{
      if(e.isIntersecting){
        e.target.classList.add("show");
        obs.unobserve(e.target);
      }
    });
  },{threshold:.1});
  fadeEls.forEach(el=>obs.observe(el));

  // Fetch GitHub repos
  async function loadRepos(){
    const list=document.getElementById("projectList");
    try{
      const res=await fetch("https://api.github.com/users/mariocrazyy/repos?per_page=50&sort=updated");
      const repos=await res.json();
      const filtered=repos.filter(r=>r.name!=="mariocrazyy");
      if(!filtered.length){list.textContent="No public repositories found.";return;}
      list.innerHTML='<div class="projects-grid"></div>';
      const grid=list.querySelector(".projects-grid");
      filtered.forEach(repo=>{
        const card=document.createElement("div");
        card.className="proj";
        const repoName = repo.archived
          ? `${repo.name} <span class='archived-tag'>{Archived}</span>`
          : repo.name;
        card.innerHTML=`
          <h4>${repoName}</h4>
          <p>${repo.description?repo.description:"No description provided."}</p>
          <a href="${repo.html_url}" target="_blank" class="btn" style="margin-top:8px;display:inline-block;">View Repo</a>
        `;
        grid.appendChild(card);
      });
    }catch(err){
      list.textContent="Failed to load repositories ðŸ˜¢";
      console.error(err);
    }
  }

  // Fetch most used languages dynamically
  async function loadLanguages(){
    const bar=document.getElementById("langBar");
    const legend=document.getElementById("langLegend");
    bar.innerHTML="Loading...";
    legend.innerHTML="";

    try{
      const res=await fetch("https://api.github.com/users/mariocrazyy/repos?per_page=100");
      const repos=await res.json();
      let totals={};
      for(const repo of repos){
        const langRes=await fetch(repo.languages_url);
        const langs=await langRes.json();
        for(const [lang,bytes] of Object.entries(langs)){
          totals[lang]=(totals[lang]||0)+bytes;
        }
      }

      const sorted=Object.entries(totals).sort((a,b)=>b[1]-a[1]);
      const totalBytes=sorted.reduce((sum,[_lang,bytes])=>sum+bytes,0);
      bar.innerHTML='<div class="bar"></div>';
      const barInner=bar.querySelector(".bar");

      sorted.forEach(([lang,bytes],i)=>{
        const pct=((bytes/totalBytes)*100).toFixed(2)+"%";
        const color=`hsl(${i*50%360},70%,60%)`;
        const seg=document.createElement("i");
        seg.style.background=color;
        seg.style.width="0";
        barInner.appendChild(seg);
        setTimeout(()=>{seg.style.width=pct;},300);
        const legendItem=document.createElement("div");
        legendItem.innerHTML=`<span style="background:${color};width:10px;height:10px;border-radius:50%;display:inline-block;"></span> ${lang} (${pct})`;
        legend.appendChild(legendItem);
      });
    }catch(err){
      bar.textContent="Failed to load languages.";
      console.error(err);
    }
  }

  // ðŸ•’ Last Updated on:
  const updatedEl=document.getElementById("updated");
  const now=new Date();
  updatedEl.textContent=now.toLocaleDateString(undefined,{year:"numeric",month:"long",day:"numeric"});

  // Load everything
  loadRepos();
  loadLanguages();
</script>
</body>
</html>
